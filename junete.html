<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Gerenciar Barraca - Junete | Portal ETEC</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container py-5">
  <h2 class="text-danger fw-bold mb-4"><i class="bi bi-shop-window me-2"></i>Gerenciar Barraca da Sala - Junete</h2>

  <!-- Formulário -->
  <form id="formBarraca" class="mb-5">
    <div class="mb-3">
      <label for="sala" class="form-label fw-semibold">Nome da Sala</label>
      <input type="text" id="sala" class="form-control" required>
    </div>

    <!-- Patrocinadores Dinâmicos -->
    <div class="mb-3">
      <label class="form-label fw-semibold">Patrocinadores</label>
      <div id="patrocinadoresContainer">
        <input type="text" class="form-control mb-2 patrocinador" required>
      </div>
      <button type="button" class="btn btn-sm btn-outline-danger" onclick="adicionarPatrocinador()">
        <i class="bi bi-plus-circle me-1"></i>Adicionar Patrocinador
      </button>
    </div>

    <div class="mb-3">
      <label for="comidas" class="form-label fw-semibold">Comidas que serão vendidas</label>
      <textarea id="comidas" class="form-control" rows="2" required></textarea>
    </div>

    <div class="mb-3">
      <label for="descricao" class="form-label fw-semibold">Descrição da barraca</label>
      <textarea id="descricao" class="form-control" rows="3"></textarea>
    </div>

    <button type="submit" class="btn btn-danger w-100">
      <i class="bi bi-save me-1"></i>Salvar Informações
    </button>
  </form>

  <!-- Exibição dos dados -->
  <div class="bg-white rounded shadow-sm p-4 d-none" id="resultado">
    <h4 class="text-danger fw-bold"><i class="bi bi-card-text me-2"></i>Informações Cadastradas</h4>
    <p><strong>Sala:</strong> <span id="resSala"></span></p>
    <p><strong>Patrocinadores:</strong> <span id="resPatrocinadores"></span></p>
    <p><strong>Comidas:</strong> <span id="resComidas"></span></p>
    <p><strong>Descrição:</strong> <span id="resDescricao"></span></p>
  </div>
</div>

<script>
function adicionarPatrocinador() {
  const container = document.getElementById("patrocinadoresContainer");
  const input = document.createElement("input");
  input.type = "text";
  input.placeholder = "Ex: Loja X";
  input.className = "form-control mb-2 patrocinador";
  container.appendChild(input);
}

document.getElementById('formBarraca').addEventListener('submit', function (e) {
  e.preventDefault();

  const sala = document.getElementById('sala').value.trim();
  const patrocinadoresInputs = document.querySelectorAll('.patrocinador');
  const patrocinadores = Array.from(patrocinadoresInputs).map(input => input.value.trim()).filter(Boolean).join(', ');
  const comidas = document.getElementById('comidas').value.trim();
  const descricao = document.getElementById('descricao').value.trim();

  const dados = { sala, patrocinadores, comidas, descricao };

  localStorage.setItem('barracaJunete', JSON.stringify(dados));

  // Mostrar resultados
  document.getElementById('resSala').textContent = sala;
  document.getElementById('resPatrocinadores').textContent = patrocinadores;
  document.getElementById('resComidas').textContent = comidas;
  document.getElementById('resDescricao').textContent = descricao;
  document.getElementById('resultado').classList.remove('d-none');
});
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
